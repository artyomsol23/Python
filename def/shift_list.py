def shift_list(lst, k, direction="left"):
    """
    Циклически сдвигает список `lst` на `k` позиций.
    Аргументы:
        lst (list): Исходный список.
        k (int): Количество сдвигов. Может быть отрицательным (сдвиг вправо).
        direction (str): "left" (влево) или "right" (вправо). По умолчанию "left".
    Возвращает:
        list: Сдвинутый список.
    """
    if not lst:  # Если список пустой, возвращаем его без изменений
        return lst
    
    n = len(lst)
    k %= n  # Корректируем `k`, если он больше длины списка
    
    if direction == "right":
        k = -k  # меняем направление сдвига
    
    return lst[k:] + lst[:k]  # Берём срез списка и переставляем его части
